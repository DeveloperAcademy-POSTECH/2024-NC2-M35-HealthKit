# 2024-NC2-M35-HealthKit

## ğŸ¥ Youtube Link
(ì¶”í›„ ë§Œë“¤ì–´ì§„ ìœ íŠœë¸Œ ë§í¬ ì¶”ê°€)

## ğŸ’¡ About Augmented Reality
Health Data
HealthKit ë•ë¶„ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì´ Health Dataë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤.
Iphone, apple watch, iCloud ë“± ì—¬ëŸ¬ ì¥ì¹˜ì—ì„œ Health Dataì™€ ìƒí˜¸ì‘ìš© ê°€ëŠ¥.
1. Characteristic data (íŠ¹ì„± ë°ì´í„°)
- ìƒë…„ì›”ì¼, í˜ˆì•¡í˜•, ì„±ë³„, í”¼ë¶€ìœ í˜•ê³¼ ê°™ì´ ì¼ë°˜ì ìœ¼ë¡œ ë³€ê²½ ë˜ì§€ ì•ŠëŠ” í•­ëª©
2. Sample data (ìƒ˜í”Œ ë°ì´í„°)
- ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ì ê±´ê°• ë°ì´í„° íŠ¹ì • ì‹œì ì˜ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„°
3. Workout data (ìš´ë™ ë°ì´í„°)
- í”¼íŠ¸ë‹ˆìŠ¤ ë° ìš´ë™ í™œë™ì— ëŒ€í•œ ë°ì´í„°
4. Source data (ì†ŒìŠ¤ ë°ì´í„°)
- ë°ì´í„°ë¥¼ ì €ì¥í•œ ì•± ë˜ëŠ” ê¸°ê¸°ì˜ ëŒ€í•œ ì •ë³´ê°€ í¬í•¨
5. Delete objects (ì‚­ì œëœ ê°œì²´)
- ì‚­ì œëœ í•­ëª©ì˜ ë°ì´í„°ì˜ uuidë¥¼ ì„ì‹œë¡œ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©


> **ì˜ˆì‹œ** <br/><br/>
_(ë‚´ìš© ì¤‘ëµ) <br/>
HealthKitì€ iPhone ë° Apple Watchì˜ ê±´ê°• ë° í”¼íŠ¸ë‹ˆìŠ¤ ë°ì´í„°ì— ëŒ€í•œ ì¤‘ì•™ ì €ì¥ì†Œë¥¼ ì œê³µí•©ë‹ˆë‹¤.â€¨ì‚¬ìš©ìì˜ í—ˆê°€ê°€ ìˆìœ¼ë©´ ì•±ì€ HealthKit ìŠ¤í† ì–´ì™€ í†µì‹ í•˜ì—¬ ì´ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•˜ê³  ê³µìœ í•œë‹¤.
> HealthKitëŠ” ë°±ê·¸ë¼ìš´ë“œ ì—…ë°ì´íŠ¸ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œë‹¤.  <br/>


## ğŸ¯ What we focus on?
> í˜„ì¬ í™œë™ìƒíƒœë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ì¸¡ì •í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” ê¸°ìˆ 
í˜„ì¬ ìƒíƒœë¥¼ ë³´ì—¬ ì£¼ëŠ” ë°©ë²•

## ğŸ’¼ Use Case
> ìµœê·¼ í™œë™ëŸ‰ì„ ë³´ì—¬ì£¼ë©° ëª©í‘œí™œë™ëŸ‰ì„ ì±„ìš°ë„ë¡ ë…ë ¤í•œë‹¤.
> " í‰ë²”í•œ ì¼ìƒ ì† ìš´ë™ì˜ í•„ìš”ì„±ì„ ëŠê¼ˆë‹¤.. ì˜¤ëŠ˜ ë¶€í„° ìš´ë™ì„ ê°€ì•¼ê² ë‹¤!!.
ë‹¤ìŒë‚ ...
ì•„. ì–´ì œ ê°”ìœ¼ë‹ˆê¹Œ ..ê°€ì§€ ë§ì•„ì•¼ ê² ë‹¤
ì•„!! ì•„ë‹ˆì•¼!! .. í•˜..ê°€ì•¼í•˜ëŠ”ë°... ê·¸ë˜ë„ ë‚˜ ì˜¤ëŠ˜ ê½¤ ì›€ì§ì´ì§€ ì•Šì•˜ë‚˜..?
ì–´í›„!!! ë‚´ ìƒíƒœë¥¼ ê³„ì† ì²´í¬í•˜ë©´ ìš´ë™ ê²°ì‹¬ì„ í•˜ë„ë¡ í•´ì£¼ëŠ” ê²Œ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤ë‹ˆê¹Œ..


## ğŸ–¼ï¸ Prototype

https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M35-HealthKit/assets/166302778/e7cc4c81-a5ab-4416-a46d-3fe179ca6f13



## ğŸ› ï¸ About Code
**func** requestAuthorization() {

**guard** HKHealthStore.isHealthDataAvailable() **else** { **return** }

**let** typesToRead: Set = [HKObjectType.quantityType(forIdentifier: .activeEnergyBurned)!]

healthStore.requestAuthorization(toShare: [], read: typesToRead) { success, error **in**

**if** !success {

print("HealthKit authorization failed: \(String(describing: error?.localizedDescription))")

}

}

}

**func** fetchCalorieBurned(startDate: Date, endDate: Date, completion: **@escaping** (Double) -> Void) {

**guard** **let** caloriesType = HKObjectType.quantityType(forIdentifier: .activeEnergyBurned) **else** {

completion(0.0)

**return**

}

print("fetchCalorieBurned")

**let** predicate = HKQuery.predicateForSamples(withStart: startDate, end: endDate, options: .strictEndDate)

**let** query = HKStatisticsQuery(quantityType: caloriesType, quantitySamplePredicate: predicate, options: .cumulativeSum) { _, result, error **in**

**var** calories: Double = 0.0

**if** **let** sum = result?.sumQuantity() {

calories = sum.doubleValue(for: .kilocalorie())

print("calories in caloriemanager \(calories)")

}

completion(calories)

}

healthStore.execute(query)

}
